---
import MainLayout from "@/layouts/MainLayout.astro";
import { DeviceDetailView } from "@/components/dashboard/DeviceDetailView";

export const prerender = false;

const rawMac = Astro.params.mac ?? "";
let decodedMac = rawMac;
try {
  decodedMac = decodeURIComponent(rawMac);
} catch {
  decodedMac = rawMac;
}

const pageTitle = decodedMac ? `Device â€¢ ${decodedMac}` : "Device Detail";
---

<MainLayout title={pageTitle}>
  <section class="mx-auto w-full max-w-[1100px] px-6 py-12">
    <DeviceDetailView mac={decodedMac} client:only="react" />
  </section>
</MainLayout>
